from codrone_edu.drone import *
import time
SLEEP_TIME = 2
SPEED = 0.5
drone = Drone()
drone.pair()

def stablize(time):
    time.sleep(time)

def moveForward(distance, speed):
    drone.move_distance(distance, 0, 0, speed) # move forward 0.5m at 0.5m/s
    stablize(SLEEP_TIME)
    print("=====move forward")

def moveBackward(distance, speed):
    drone.move_distance(-1*distance, 0, 0, speed) # move backward 0.5m at 0.5m/s
    stablize(SLEEP_TIME)
    print("=====move backward")

def moveLeft(distance, speed):
    drone.move_distance(0, distance, 0, speed) # move left 0.50m at 0.50m/s
    stablize(SLEEP_TIME)
    print("=====move left")

def moveRight(distance, speed):
    drone.move_distance(0, -1*distance, 0, speed) # move left 0.50m at 0.50m/s
    stablize(SLEEP_TIME)
    print("=====move right")

def changeToHeight(target_height, change_speed):
    
    print("targetToHeight", target_height)
    current_Height = drone.get_height("cm")
    print("current:", current_Height)
 
    changeHeight =  round((target_height - current_Height )/100, 2)
    print("=====changeHeight:", changeHeight)
    drone.move_distance(0, 0, changeHeight, change_speed) # move down 0.50m at 0.50m/s
    stablize(2)


drone.takeoff()
stablize(SLEEP_TIME)
changeToHeight(35, 0.3)  #== descend to the lower circle of the panel
moveForward(0.5, SPEED)
moveRight(0.5, SPEED)
moveForward(0.5, SPEED)
moveLeft(0.5, SPEED)
moveBackward(0.5, SPEED)
 


drone.land()
drone.close()
